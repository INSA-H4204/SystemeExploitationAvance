#define STACK_SIZE 512
#define NULL 0
#include "sched.h"
#include "types.h"
#include "hw.h"
int ledOn = 1;
int y = 0;

void funcA()
{
	while ( 1 ) {
		drawRed(y);
		y = increaseY(y);
	}	
}

void funcB()
{
	while ( 1 ) {
		drawWhite(y);
		y = increaseY(y);
	}
}


void funcC()
{
	while ( 1 ) {
		drawBlue(y);
		y = increaseY(y);
	}
}

//------------------------------------------------------------------------
int kmain ( void )
{
	init_hw();
	FramebufferInitialize();
  	draw();

	create_process(funcA, NULL, STACK_SIZE,1);
	create_process(funcB, NULL, STACK_SIZE,2);
	create_process(funcC, NULL, STACK_SIZE,3);
	
	start_sched();
	
  
  while(1) { }
	/* Pas atteignable vues nos 2 fonctions */
	return 0;
}
